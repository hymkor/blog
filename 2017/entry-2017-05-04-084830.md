Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2017/05/04/084830
Rem: App-Edited: 2017-05-04T08:48:30+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/10328749687242926786
Rem: Published: 2017-05-04T08:48:30+09:00
Category: nyagos
Updated: 2017-05-04T08:48:30+09:00
Title: わたしにいい考えがある
---
Lua に clone 機能があればと書いていたが、実際に clone を自前で書いてしまった方が早いのでは？

- local 変数はクロージャーの上位値の clone ができない
    - それは仕方がないと考える
- clone した後、clone先からclone元へのフィードバックができない
    - 従来の share テーブルも併用する
    - 表向きは share を使ってくださいで、実はその他の変数も clone する
- io やら os やらのテーブルの複写はどうするか
    - new → openlib → 自前clone の順で実行する
    - コピー先の既にオブジェクトがある場合はスキップするようにする

などなど


