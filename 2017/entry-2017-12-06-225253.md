```header
Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2017/12/06/225253
Rem: App-Edited: 2017-12-06T22:52:53+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/8599973812324296173
Rem: Published: 2017-12-06T22:52:53+09:00
Category: nyagos
Updated: 2017-12-06T22:52:53+09:00
Title: まともな foreach が使えるようになります
```
次のバージョンから、環境変数の置換構文を組み合わせれば、下記のようなことができます。

```
$ foreach i *.go ; echo move %i% %i:go=goo% ; end
move bindata.go bindata.goo
move builtinfunc.go builtinfunc.goo
move complete_lua.go complete_lua.goo
move complete_var.go complete_var.goo
move loadscr.go loadscr.goo
move lua.go lua.goo
move lua_bindkey.go lua_bindkey.goo
move lua_cmd.go lua_cmd.goo
move nyagos.go nyagoos.goo
move option.go option.goo
move prompt.go prompt.goo
move stream.go stream.goo
```

諸般の事情で、環境変数の置換のタイミングが、 CMD.EXE や /bin/sh と違っていてアレですが、まぁ、便利なので、気にしないことにしましょう。

ソース的には、まだ master ブランチに入ってなくて、develop ブランチの方になります。
