```header
Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2018/06/12/230507
Rem: App-Edited: 2018-06-12T23:05:07+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/17391345971653520116
Rem: Published: 2018-06-12T23:05:07+09:00
Category:
Updated: 2018-06-12T23:05:07+09:00
Title: 自分のマシンの IP アドレスを列挙するコマンドを作った
```
* [localhosts](https://github.com/zetamatta/experimental/tree/master/localhosts)

自分の IP アドレスを表示するだけのコマンド。Go の net ライブラリを使った。

* IPv4 アドレス
* UP している
* loopback でない
* キーワードが指定されている時は、そのキーワードがインターフェイス名に含まれたものとする

マシンのブート時に以下のようなコマンドを含むバッチファイルを実行して、IP アドレスを OneDrive 上のファイルに出力させる
（相対パスを使っているので分かりにくいのは勘弁）

```
"%~dp0..\bin64\localhosts.exe" -o "%~dp0\..\etc\%COMPUTERNAME%" ローカル
```

これを拾い上げて、自宅から会社にリモートログインする際の宛先とするのだ。
固定IP なら、こんな苦労はなかったんだけどねぇ…
