Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2018/06/13/002508
Rem: App-Edited: 2018-06-13T00:25:28+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/17391345971653543554
Rem: Published: 2018-06-13T00:25:08+09:00
Category: nyagos lua
Updated: 2018-06-13T00:25:08+09:00
Title: nyagos 内蔵 Lua 組み込みバッチファイルの雛型
---
nyagos内蔵Lua が 5.1 になったので前の 5.3 向けの方法が使えなくなった

**donyagos.cmd**

```
@setlocal & set "ARGS=%*" & nyagos.exe --norc  -e "_,_,b=io.input([[%~f0]]):read('*l','*l','*a');assert(loadstring('\n'..b,[[%~f0]]))()"
@endlocal & exit /b %ERRORLEVEL%

print(nyagos.env.args)
```