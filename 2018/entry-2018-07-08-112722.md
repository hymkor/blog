```header
Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2018/07/08/112722
Rem: App-Edited: 2018-07-08T11:27:22+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/10257846132599184625
Rem: Published: 2018-07-08T11:27:22+09:00
Category: nyagos
Updated: 2018-07-08T11:27:22+09:00
Title:  自前の io.* ライブラリを構築中
```
* [nyagos内蔵Luaで「lua_e "for line in io.lines() do print(line) end" < FILE」が FILE から読み込めない - 標準愚痴出力](http://zetamatta.hatenablog.com/entry/2018/07/03/164112)

ファイルまわりはシェル本体との密接な連携が必要なので、結局、`io.*` 以下の関数を全部自前バージョンで置き換えることにした。

最初からそうすればよかった。

あと、`bit32.*` については、自前で途中まで作っていたが、[GopherLua](https://github.com/yuin/gopher-lua) 用の[BixData/gluabit32: A bit32 library for the GopherLua VM](https://github.com/BixData/gluabit32)という既製のものを利用することにした。`utf8.*` はないので、やはり自分で作るしかないようだ。
