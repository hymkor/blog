Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2019/02/07/184029
Rem: App-Edited: 2019-02-07T18:40:29+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/98012380860687254
Rem: Published: 2019-02-07T18:40:29+09:00
Category: go
Updated: 2019-02-07T18:40:29+09:00
Title: 続・GoでCygterm っぽいことをやりたいので、ソケットサーバーを書いている
---
* [Go で Cygterm っぽいことをやりたいので、ソケットサーバーを書いている（勉強中） - 標準愚痴出力](http://zetamatta.hatenablog.com/entry/2019/02/04/235547)

アドバイスをいただきました（ありがとうございます）

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">enter しないと文字が送られないのは、たぶん tera term のオプションで local echo を off にすると解決しそう。</p>&mdash; AoiMoe a.k.a. しお兄P (@AoiMoe) <a href="https://twitter.com/AoiMoe/status/1093405581627379713?ref_src=twsrc%5Etfw">February 7, 2019</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">もうちょっと調べたら、多分それでは駄目で、設定ファイルを書き換えて行単位送信モードを無効にする必要がありそう：<a href="https://t.co/U0HhQRKpkj">https://t.co/U0HhQRKpkj</a></p>&mdash; AoiMoe a.k.a. しお兄P (@AoiMoe) <a href="https://twitter.com/AoiMoe/status/1093411801948028928?ref_src=twsrc%5Etfw">February 7, 2019</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

試してみたところ、確かに

```
$ diff TERATERM-orig.INI TERATERM.INI
491c491
< EnableLineMode=on
---
> EnableLineMode=off
```

と変えたところ、プログラムは無修正で１文字単位での送受信ができるようになりました（なお、LocalEcho については、はじめから「`LocalEcho=off`」になってました）。

教えていただいた[参考ページ](https://ttssh2.osdn.jp/manual/ja/setup/teraterm-com.html)によると、ssh の場合とか、サーバーからの応答によっては最初から`EnableLineMode=off` になるみたいですね。

それと同じようなことを自動でやればよさそうです。nyag?os のTeraTerm 接続は長年の懸案ですが、これはもしかしていけるか！？