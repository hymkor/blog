```header
Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2019/02/23/003056
Rem: App-Edited: 2019-02-23T00:30:56+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/17680117126977276881
Rem: Published: 2019-02-23T00:30:56+09:00
Category: go
Updated: 2019-02-23T00:30:56+09:00
Title:  Shift-JISファイルの作成
```
現在のコードページの文字形式ではなくて、本当に ShiftJIS 固定となるので、日本語特化のアプリとなるが

```go
package main

import (
	"fmt"
	"os"
	"path/filepath"

	"golang.org/x/text/encoding/japanese"
)

const fname = "search.lst"

func main1() error {
	fd, err := os.OpenFile(fname, os.O_CREATE|os.O_EXCL, 0666)
	if err != nil {
		return err
	}
	defer fd.Close()

	w := japanese.ShiftJIS.NewEncoder().Writer(fd)
```

となる。O_EXCL はただの上書き禁止オプションで SJIS とは直接の関係はない。

