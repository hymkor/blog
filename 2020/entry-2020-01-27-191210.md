Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2020/01/27/191210
Rem: App-Edited: 2023-04-28T22:42:29+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/26006613503351796
Rem: Published: 2020-01-27T19:12:10+09:00
Category:
Updated: 2020-01-27T19:12:10+09:00
Title: パッケージマネージャの「scoop」経由で kaoriya版 vim をインストールしてみました
---
前回：[パッケージマネージャの「scoop」経由で nyagos をインストールしてみました](http://zetamatta.hatenablog.com/entry/2020/01/26/212626)からの続き

`scoop install vim` でインストールされる素の vim × skk.vim × git のコミットログ編集をすると、やはり日本語が厳しい。

（そりゃ SKK の辞書は EUC-JP で、コミットログのドラフトは UTF8 、デフォルト表示は普通 CP932 なんだから、キツかろう）

でググってたら：

* [Scoopを使ったWindows環境構築のススメ - Hyper!!! - Qiita](https://qiita.com/Dooteeen/items/c55223c26a42776f7101)
* [rkbk60/scoop-for-jp: Scoop bucket for ALL Japanese users.](https://github.com/rkbk60/scoop-for-jp)

と、scoop でインストール可能な kaoriya-vim のレポジトリが公開されていた！すばらしい


~~$ scoop bucket add jp https://github.com/rkbk60/scoop-for-jp~~  
`$ scoop bucket add jp https://github.com/dooteeen/scoop-for-jp`  
（2020/12/24記：レポジトリが引っ越しされていたので修正）

```
Checking repo... ok
The jp bucket was added successfully.

$ scoop install vim-kaoriya
Updating Scoop...
Updating 'jp' bucket...
Updating 'main' bucket...
Checking repo... ok
The main bucket was added successfully.
Scoop was updated successfully!
Installing 'vim-kaoriya' (8.1.0005.20180520) [64bit]
vim81-kaoriya-win64-8.1.0005-20180520.zip (17.6 MB) [=================] 100%
Checking hash of vim81-kaoriya-win64-8.1.0005-20180520.zip ... ok.
Extracting vim81-kaoriya-win64-8.1.0005-20180520.zip ... done.
Linking ~\scoop\apps\vim-kaoriya\current => ~\scoop\apps\vim-kaoriya\8.1.0005.20180520
Creating shim for 'vim'.
Creating shim for 'vimk'.
Creating shim for 'gvim'.
Creating shim for 'gvimk'.
Creating shortcut for Gvim (gvim.exe)
'vim-kaoriya' (8.1.0005.20180520) was installed successfully!
```

で Ok！

今までは、VMごとに何回もインストールするのがたいへんだったので、ホストの共有フォルダーにインストールしたのに PATH を通して使っていたんだけど、やはりアクセスが遅いという難点があった。

が、これほどさくっと入るのであれば、個別のVMごとにさくっと入れたほうが早いね！（小泉進次郎記法）

### （追記 @ 2020/02/27）

インストールされている Git が古いと

```
C:\Users\Administrator>scoop bucket add jp https://github.com/rkbk60/scoop-for-jp
Checking repo... 'https://github.com/rkbk60/scoop-for-jp' doesn't look like a va
lid git repository

Error given:
fatal: unable to access 'https://github.com/rkbk60/scoop-for-jp/': error:1407742
E:SSL routines:SSL23_GET_SERVER_HELLO:tlsv1 alert protocol version
```
というエラーになる

```
C:\Users\Administrator>git --version
git version 1.9.5.msysgit.0
```

だめだ、こりゃ。自前で入れた古い Git は「プログラムの追加と削除」でアンインストールし、新しいバージョンを改めて `scoop install git` で潜影蛇手すると

~~$ scoop bucket add jp https://github.com/rkbk60/scoop-for-jp~~  
`$ scoop bucket add jp https://github.com/dooteeen/scoop-for-jp`  
（2020/12/24記：レポジトリが引っ越しされていたので修正）

```
Checking repo... ok
The jp bucket was added successfully.
```

よしよし