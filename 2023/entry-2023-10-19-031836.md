```header
Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2023/10/19/031836
Rem: App-Edited: 2024-01-21T12:53:15+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/6801883189051619130
Rem: Published: 2023-10-19T03:21:50+09:00
Category: htnblog
Updated: 2023-10-19T03:18:36+09:00
Title: htnblog.exe: 最新～過去10件分くらいの記事を編集できるようにしました
```
- [Release v0.3.0 · hymkor/go-htnblog](https://github.com/hymkor/go-htnblog/releases/tag/v0.3.0)

#### （１）最新～過去10件分くらいの記事を編集できるようにしました

まず、`htnblog list`

```
$ htnblog list
@0 6801883189051607309 go-readline-ny のカスタマイズ方法を Wiki にまとめました
@1 6801883189051604508 Rustで Windows10,11 の端末拡張機能を有効にするライブラリを書きました
@2 4207112889977652797 go-readline-ny：キーに機能を割り付ける
@3 6801883189050811313 はてなブログの記事を作成・編集するGoのライブラリ・コマンドラインツールを作りました
@4 820878482966931597 メソッドの引数がレシーバーと同じ型となっている型群を等価に扱いたい
@5 820878482964628150 go-multiline-ny / SQL-Bless：Enterキー＋指定の条件で入力終結モード
@6 820878482964289902 勉強メモ：Rust で日本語を一文字ずつ列挙する
@7 820878482961191045 Windows 8.1 , Server2008 向けの Go ツールの保守環境の維持
@8 820878482961184356 最新 master 版 Go の導入
@9 820878482961131647 Go 1.21.0 の遅延初期化
```

前はタイトルとURLを出力していましたが、URLは長くて使いづらいので、entry-id とそれを手軽に取り扱うためのエイリアス @(番号) を表示するようにしました。

そして、これを編集する時は

```
htnblog edit 820878482961131647
```

もしくは

```
htnblog edit @9
```

のように指定します。entry-id を省略すると`@0` と等価=最新の記事が対象になります。

#### （２）設定ファイルの指定

ブログに接続するための情報ですが、従来は ~/.htnblog 固定でしたが、`htnblog -rc 設定ファイル サブコマンド 引数` のようにファイル名指定もできるようにしました。
( これは主に自分は技術関係以外を書くための[ブログ][xetamatta][^minecraft]を別途作成したので、そちらも編集できるようにしたかったためです )

[^minecraft]: 主にマインクラフトとかの記録を書くため用
[xetamatta]: https://xetamatta.hatenablog.com/

あと、`{ "author":"著者名" }` という項目は実質 user-id と同じでブログ上どこにも表示されないようなので、廃止しました。

####（３）その他、不具合修正

サイレントで修正してしまいましたが

- [v0.2.0](https://github.com/hymkor/go-htnblog/releases/tag/v0.2.0)
    - 編集した記事の日付が今日になってしまう問題を修正
- [v0.1.1](https://github.com/hymkor/go-htnblog/releases/tag/v0.1.1)
    - 公開済みの記事に対して `htnblog edit` を実行すると、投稿時に `400 Cannot Change into Draft` というエラーになってしまう不具合を修正

といろいろ直しました。たいへん申しわけありません。
( まぁ、使ってる人はまだいないと思いますが )

まぁ、こんな感じですが、いまドッグフーディング[^dogfooding]で使っている最中でございます。

[^dogfooding]: 開発者自らがアプリを使うことで品質を向上されるやり方
