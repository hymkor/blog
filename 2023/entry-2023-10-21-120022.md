Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2023/10/21/120022
Rem: App-Edited: 2024-03-23T12:12:41+09:00
Rem: Draft: yes
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/6801883189052215442
Rem: Published: 2023-10-21T12:02:16+09:00
Category: BatchFile
Updated: 2023-10-21T12:00:22+09:00
Title: マインクラフトデータのバックアップバッチファイル簡易版
---
今まで使っていたマインクラフトのバックアップのバッチファイルは %APPDATA%\\.minecraft 以下のゲームデータをフルバックアップしていたんだけど、さすがに毎回全ワールド行うのは不経済な気がしてきた。

```
setlocal
pushd "%APPDATA%"
if "%~1" == "/v" (
    rclone cat "sakura:(中略)/dotminecraft-%DATE:/=%.tar.zst" | zstd -d | tar tvf -
) else (
    move ".minecraft\screenshots\*.png" "%USERPROFILE%\OneDrive\画像\dotminecraft\."
    tar --exclude ".minecraft/backups/*.zip" -cvf - .minecraft | zstd | rclone rcat "sakura:(中略)/dotminecraft-%DATE:/=%.tar.zst"
)
popd
endlocal
```

ということで、フルバックアップとは別にワールド個別にバックアップするバージョンを作成した。%APPDATA%\\.minecraft\\saves\\ワールド名(今回は Demo\_World)\\ 以下を tar で固めて、zstd で圧縮、rclone で FTP 転送してるだけ。

```
tar -C "%APPDATA%\.minecraft\saves" -cvf - Demo_World | zstd | rclone rcat "sakura:(中略)/minecraft-Demo_World-%DATE:/=%.tar.zst"
```
