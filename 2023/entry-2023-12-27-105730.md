```header
Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2023/12/27/105730
Rem: App-Edited: 2024-01-21T11:59:10+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/6801883189070093690
Rem: Published: 2023-12-27T10:58:52+09:00
Category: htnblog PowerShell
Updated: 2023-12-27T10:57:30+09:00
Title: htnblog.exe を改良した！
```
[v0.6.0] を公開しています。詳細は [release\_note.md] のとおりですが

- 複数のブログを選択できるようになった
    - `-1`,`-2`,`-3` のようにオプションで指定する
- 削除をサポート (`htnblog delete`)
- URL直指定や、@99 みたいに古い記事でも、編集可能に
    - `htnblog edit https://zetamatta.hatenablog.com/entry/2023/10/28/111030` みたいな指定も可能
- 一時ファイル(ドラフト)を削除する時、物理削除ではなく、ゴミ箱に捨てるようにした

---

htnblog delete をサポートした動機は、はてなブログの非公開ブログに twitter のログをバックアップしていたんですが、諸般の理由でほとんどゴミとなっていたので、これを削除したかったというのがあります。手動でやってもよかったんですが、2000件もあったので…

で、こんな PowerShell スクリプトを書きました。

```PowerShell
$end = 955
for ( $i = 0 ; $i -lt $end ; $i++ ){
    Write-Host "$i/$end"
    Start-Sleep -Seconds 10.0
    .\htnblog.exe -3 -f delete
}
```

サーバーに負荷などをかけてロックとかされないように、10秒に1記事だけ削除するようにしています。このペースだと１操作で20記事削除できる手動の方が早いんですが、さすがに百回も操作してられないので。

本当はブログごと削除するのが早いんですが、そうするとサブドメインの名前空間を無駄に消費してしまうんですよね（再利用できないらしい）

[v0.6.0]: https://github.com/hymkor/go-htnblog/releases/tag/v0.6.0
[release\_note.md]: https://github.com/hymkor/go-htnblog/blob/master/release_note.md
