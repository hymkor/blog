Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2024/01/01/101120
Rem: App-Edited: 2024-01-02T11:16:49+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/6801883189071475304
Rem: Published: 2024-01-01T12:14:47+09:00
Category:
Updated: 2024-01-01T10:11:20+09:00
Title: 2023年にやったこと
---
あけましておめでとうございます。今年もよろしくお願いいたします。

そういえば、2023年にやったことのふりかえりを忘れてたので。

#### make-scoop-manifest 作った。

- [GitHub: hymkor/make-scoop-manifest][make-scoop-manifest]

[make-scoop-manifest]: https://github.com/hymkor/make-scoop-manifest

自作の Windows アプリケーションを Scoop-Installer でインストールするためのマニフェストファイルを作るツール [make-scoop-manifest] を作った。

- [scoop のマニフェストファイルを作るツールを公開しました - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/01/10/111205)
- zenn-dev: [scoop の野良パッケージの作り方｜scoop / nyagos で始めるコマンドライン生活](https://zenn.dev/zetamatta/books/5ac80a9ddb35fef9a146/viewer/bbbbbb)

これで自作ツールを導入してもらいやすくなった。また、[Spiegel] 先生に紹介[^about-Spiegel]いただけたこともあって、そこそこを評価をもらえているようで嬉しい。

[^about-Spiegel]: [オレオレ Scoop Bucket を作ってみた | text.Baldanders.info](https://text.baldanders.info/release/2023/01/my-scoop-bucket/)

[Spiegel]: https://baldanders.info/profile/

#### uncozip つくった

- [GitHub: hymkor/uncozip](https://github.com/hymkor/uncozip)

インデックス部分が壊れた ZIP ファイルを展開するコマンドラインツール。X(旧Twitter) からダウンロードしたアーカイブが大き過ぎて壊れがち問題を解決するために作った。この手のツールは ZIP の仕様に従うだけで作れる割に、競合が意外と少ない。

- [💩口に出せない ZIP ファイルのひみつ（主に名前のせい） - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/03/04/205809)

#### マルチDBコマンドラインクライアント：SQL-Bless 作った。

- [GitHub: SQL-Bless](https://github.com/hymkor/sqlbless)

Oracle の SQL\*Plus の操作性に閉口していた社会人一年目の時から作りたかったツール。それなりに満足する形になったが、その後、データベースを扱う機会があまりないので、あまりブラッシュアップできていないと思う。もっと、ドッグフーディング[^dogfooding]できていたら、問題点をもっと見付けられて改善を進められると思うのだがなー

[^dogfooding]: 自作のソフトを自分で日常的に使うこと。なんかドッグフードのメーカーの人が自分でドッグフードを食べて品質をあげていたことに由来するんかしらね。これで結構品質があがる

- [SQL-Bless 製作中に把握が必要になった各DBの違い（随時更新） - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/04/20/002234)
- [go-multiline-ny / SQL-Bless：Enterキー＋指定の条件で入力終結モード - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/09/04/164233)

#### Rust かんぺきにりかいした

Windows の API へのアクセスの仕方は分かったので、実用的なツールが作れるようになった。でも、Go みたいに手癖で書けるほどにはいってないんだよな。何かやろうとすると、まだ、いちいちググらないとけないので、ちょっと億劫になりがち

- [勉強メモ：Rust で日本語を一文字ずつ列挙する - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/09/03/125304)
- [Rustで Windows10,11 の端末拡張機能を有効にするライブラリを書きました - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/10/19/004113)
- [Rustでゴミ箱コマンドを作ったり - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/10/27/023500)
- [Rust で panic なしに雑にエラーを扱いたいとき - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/11/02/013149)
- [Linux のゴミ箱への拙作のライブラリや、はてなブログ コマンドラインクライアントの対応 - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/11/11/012431)

#### go-htnblog / htnblog.exe つくった

- [GitHub: hymkor/go-htnblog: はてなブログ - コマンドラインクライアント＆ライブラリ](https://github.com/hymkor/go-htnblog)

はてなブログに投稿するコマンドラインツール。はてなブログの API をたたいて、エディターを起動するだけという単純なプログラム。GitHub の Star はゼロだけど、このプログラムのおかげで文書をアウトプットしやすくなった。

大昔は [tDiary] や [wifky] のサーバーに、[w3m] や Firefoxでアクセスして、vim で読み書きしていたんだけどね。Firefox も任意エディターを起動するアドオンが機能しなくなったし、JavaScript 必須なサイトが増えて、[w3m] も使わなくなった。結果、Firefox は素のまま使って、キーバインドだけ、AutoHotKey でキーバインドを Emacs 風に変えるということをやっていた。

[w3m]: https://w3m.sourceforge.net/index.ja.html
[tDiary]: https://tdiary.org/
[wifky]: http://wifky.nyaos.org/

でも、長文となると、やっぱりテキストエリアは編集しにくいんだよね。vim なら、SKK 使えるし、全部の指の負担のバランスがとれてよいし。

- [はてなブログの記事を作成・編集するGoのライブラリ・コマンドラインツールを作りました - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/10/16/222836)
- [htnblog.exe: 最新～過去10件分くらいの記事を編集できるようにしました - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/10/19/031836)
- [htnblog.exe v0.3.1 を公開しました - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/10/28/111030)
- [htnblog.exe を改良した！ - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/12/27/105730)

#### gmnlisp

- [GitHub: hymkor/gmnlisp: gmnlisp - the subset of ISLisp](https://github.com/hymkor/gmnlisp)

自作のGo製Lisp。当初は CommonLisp 処理系にするつもりが、仕様が膨大すぎるので、ちょっと整理された ISLisp を目標にすえたものの、それでも全部実装できていない。

地道に実装していれば、そのうち出来るかというと、例外処理とかクラスまわりの仕様がよく分かっていないので、なかなか厳しい。今年はちゃんと勉強して完成させたい。

#### smake

- [GitHub: hymkor/smake: SMake (Make by S-expression)](https://github.com/hymkor/smake)

昨年は gmnlisp のアプリケーションとして、ビルドツールとして smake というものを作った。でも、smake を使ってしまうと、そのアプリのビルド要件を増やしてしまうので、結局 GNU Make を使ってしまうんだよな。自分でも使わないツールを他人が使うはずがないんだよなー(つまり誰も使わない)

- [S式で Makefile を書く make を作ったよ！ - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2023/03/06/002859)

#### nyagos / go-readline-ny / go-readline-skk

- [nyaosorg/nyagos: NYAGOS - The hybrid Commandline Shell between UNIX & DOS](https://github.com/nyaosorg/nyagos)
- [nyaosorg/go-readline-ny: Readline library for golang , used in nyagos](https://github.com/nyaosorg/go-readline-ny)
- [nyaosorg/go-readline-skk: Go言語製のコマンドライン向けの一行入力パッケージ go-readline-ny に SKK ライクな「かな漢字変換機能」を実現するアドオンです](https://github.com/nyaosorg/go-readline-skk)

nyagos は 3回バージョンアップした。

- Apr 25: 2023年度上期版：[4.4.13\_2](https://github.com/nyaosorg/nyagos/releases/tag/4.4.13_2)
    - 主に不具合修正。`"..\".."` といった二重引用符のカラー化処理を改善したくらい
- Apr 20: 緊急修正：[4.4.13\_3](https://github.com/nyaosorg/nyagos/releases/tag/4.4.13_3)
    - more がおかしくなっていた
- Oct 6: 2023年度下期版：[4.4.14\_0](https://github.com/nyaosorg/nyagos/releases/tag/4.4.14_0)
    - SKK 対応など

ついに念願の SKK に対応したぞ。

もう nyagos は安定プロダクトなので大幅な改変は控えるべきなんだけど、SKK だけは開発者の我侭でねじこませていただいた。自作SKK自体は不具合修正がいろいろあるんだけど、コマンドラインで SKK を使おうという人も少ないだろうから、リリース版に反映させていない。2024年度上期版には無論含める予定

nyagos は Windows 8.1 / WindowsServer 2008 対応は続けている。そのためにビルドする Go も 1.20.12 としている。さて、2024年は 1.22 がリリースされ、1.20 のサポートは終了するはずだが…どうするかなぁ。少なくとも、1.20.12 でビルドした最終バージョンは scoop でずっと導入できるようにはしておくつもりではあるが

#### 総括

うーむ、それなりにモノは作っているので、仕事を得るためのポートフォリオとしては悪くないんだけど、最新のニーズにキャッチアップしているかというと全然なんだよなぁ
