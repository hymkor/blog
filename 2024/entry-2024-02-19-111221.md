```header
Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2024/02/19/111221
Rem: App-Edited: 2024-02-19T13:38:26+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/6801883189084395129
Rem: Published: 2024-02-19T11:24:58+09:00
Category: jujutsu nyagos
Updated: 2024-02-19T11:12:21+09:00
Title: nyagos を jj 管理にしたところ、jj log がすごく長くなってしまった
```
太古のブランチのコミットが出てる

[f:id:zetamatta:20240219111119p:plain]

`jj log -h` によると、

```
$ jj log -h
Show commit history
    :(中略)
Options:
  -r, --revisions <REVISIONS>  Which revisions to show. Defaults to the `revsets.log`
                               setting, or `@ | ancestors(immutable_heads().., 2) |
                               heads(immutable_heads())` if it is not set
：
```

デフォルトのログ出力の範囲は `@ | ancestors(immutable_heads().., 2) | heads(immutable_heads())` という revsets で表される範囲らしい。この指定で、どうして、タグ: `4.2.5_1` 〜 branch: `r4.2@origin` の中身が全部出てしまうのか、よく分からない。

うっとうしいので、`4.4.1_0` 以降だけを出すようにしよう。

```
$ jj config set --repo revsets.log "( @ | ancestors(immutable_heads().., 2) | heads(immutable_heads()) ) & 4.4.1_0::"

$ jj log
@  lzpznyvv iyahaya@nifty.com 2024-02-19 11:06:53.000 +09:00 32c463b7
│  (no description set)
◉  uqpslxtp iyahaya@nifty.com 2024-02-18 13:32:55.000 +09:00 master HEAD@git d416cca1
╷  .gitignore: add *.cmd and *.git
╷ ◉  pnltvyyq iyahaya@nifty.com 2021-07-03 11:45:40.000 +09:00 retrynetdrive@origin c7379b94
╭─╯  When changing drive to network drive failed, net use and retry
◉  nmsyzyuu iyahaya@nifty.com 2021-07-03 00:36:18.000 +09:00 4.4.10_1 7798575d
│  bump to 4.4.10_1
~
```

よしよし
