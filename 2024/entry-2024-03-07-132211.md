```header
Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2024/03/07/132211
Rem: App-Edited: 2024-03-07T15:43:59+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/6801883189088852051
Rem: Published: 2024-03-07T13:22:11+09:00
Category: jj jujutsu
Updated: 2024-03-07T13:22:11+09:00
Title: DVCS jujutsu (jj) v0.15.0 出てた
```
※ 追記あり

+ [Release v0.15.0 · martinvonz/jj](https://github.com/martinvonz/jj/releases/tag/v0.15.0)

とりあえず `scoop update jj` で、v0.14.0 → v0.15.0  への upgrade はしたものの、まだあまり使えていない。個人的に目ぼしいところなど

> + `jj move --from/--to` can now be abbreviated to `jj move -f/-t`

`move` は、よく使うから嬉しい

> + `jj git init --colocate` can now import an existing Git repository. This is equivalent to `jj git init --git-repo=.` .

この「git 併用の初期化」、推奨のやり方が二転三転してへん？(← v0.13 → v0.14 で `jj init --git` が`jj git init` になったのと、頭の中でゴッチャになっている模様)

> + Dropped support for the deprecated `:` revset operator. Use `::` instead.

内容はともかくとして「〇〇のサポートをやめる」っていう英語、Drop support でもいいのか。

廃止するを意味する英単語、abandon があるけど、ちょっとしっくりこなくて「Remove the feature」とか使ってたけど、「Drop」の方が感覚的にあってる気がする。

> + The on-disk index format changed

これ、ぎょっとするなぁ。バージョンアップ後に jj log を初めて実行すると

```
$ jj log
Failed to load commit index file '56e84d6b8d7d1b6e050c97d642540437600d7ff3161342263f8103d128aaff73b3c3ce335e883d3acb194f476e087d5484de22f2bf6d121f2ef5f2a70f94ce18' (maybe the format has changed): 指定されたパスが見つかりません。 (os error 3). Reindexing...
```

とかなる。２回目以降は出ないみたいだけど…

---

全体として `Breaking changes` が多いなぁ。まだ、v0.\*.\* なので何ら問題ないが、自分など数ユーザもいないツールでも互換性の破壊は相当気を遣ったりするので、メジャーはやはり違いますなぁと思ったり

### 追記

7時間後に v0.15.1 が出てた

+ [Release v0.15.1 · martinvonz/jj](https://github.com/martinvonz/jj/releases/tag/v0.15.1)

別にバグとかじゃなくて、ライブラリ向けのマクロだか何だかをちょっと追加しただけっぽい
