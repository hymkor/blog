Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2024/03/09/124006
Rem: App-Edited: 2024-03-09T22:16:30+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/6801883189089355831
Rem: Published: 2024-03-09T12:40:06+09:00
Category: batch
Updated: 2024-03-09T12:40:06+09:00
Title: twitter、もとい、X にバッチファイルのコードの類を貼る時にリンク化されないテク
---
### echo off を示す @ マークが mention 扱いされてしまう

```
@setlocal
set "TARGET=%1"
set "TARGET=%TARGET:\\?\=%"
"%EDITOR%" "%TARGET%"
@exit /b %ERRORLEVEL%
```

これを twitter へ貼ると、`@exit` が exit さんへの mention になってしまう
@ の後に空白を入れればよい。また、バッチファイル本体で @ の後に空白があっても誤動作はしない。

```
@ setlocal
set "TARGET=%1"
set "TARGET=%TARGET:\\?\=%"
"%EDITOR%" "%TARGET%"
@ exit /b %ERRORLEVEL%
```

### github の URL を引数に与えるコードがリンク化されてしまう

scoop によるツールのインストールを説明するとき

```
C:> scoop bucket add hymkor https://github.com/hymkor/scoop-bucket
C:> scoop install csview
```

URL部分がリンク化されてしまう。これを避けるには

```
C:> scoop bucket add hymkor https://github"."com/hymkor/scoop-bucket
C:> scoop install csview
```

と URL で認識できなくなる場所に二重引用符を挿入してやればよい。

`github\.com` と書く人もいるが、シェルに渡す場合、コマンドに渡される時にこの `\` は消えてくれない。二重引用符であれば間違いなく消えてくれるので、そのままコピペして使用可能だ。
