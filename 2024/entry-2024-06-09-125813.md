```header
Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2024/06/09/125813
Rem: App-Edited: 2024-06-09T12:58:13+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/6801883189112931250
Rem: Published: 2024-06-09T12:58:13+09:00
Category: go mysql sqlbless
Updated: 2024-06-09T12:58:13+09:00
Title: GoのMySQLドライバーと loc パラメーター "Local" とSQL-Bless
```
[SQL-Bless] で MySQL に接続する場合、第二引数で[Go言語用のMySQLドライバー][driver]へ引き渡す接続文字列をわたさないといけないため

```
sqlbless mysql "root:@/mydb?parseTime=true&loc=Asia%2FTokyo"
```

と指定させていたが、ロケーションがSQL-Bless を動かしているタイムゾーンでよい場合は

```
sqlbless mysql "root:@/mydb?parseTime=true&loc=Local"
```

でもよいらしい。

`Asia%2FTokyo` という表現は次のような理由で、あまり例としては使いたくないので、Local が使えるのであれば、Local をデフォルト値として使いたいところ

+ パーセント記号がバッチファイルで取り扱う場合に `%%` に置きかえないといけない
+ 当然だがユーザは日本人だけではないので、 自分のタイムゾーンを示すロケーション文字列をユーザに調べてもらわないといけない

仕様動作か、たまたまそう実装されている動作にすぎないのか気になったが(後者であれば、それに依存する動作を実装するのはよくない)、まぁ、仕様動作でいいか！

#### リンク

+ 前回の話 → [SQL-Bless とgo-sql-driver/mysql と日時データ型とタイムゾーン - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2024/06/04/085543)
+ [go-sql-driver/mysqlと日時データ型とタイムゾーン](https://zenn.dev/utsushiiro/articles/e8d5343cc374a9)
+ [Golangのローカルのタイムゾーンが決まる仕組みと指定方法 #Go - Qiita](https://qiita.com/immrshc/items/a080975c6c7e23498944)
+ [MySQLのtime_zoneとgo-sql-driver/mysqlのlocの関係 - sambaiz-net](https://www.sambaiz.net/article/189/)



[driver]: https://github.com/go-sql-driver/mysql
[SQL-Bless]: https://github.com/hymkor/sqlbless
