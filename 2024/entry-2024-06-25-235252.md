Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2024/06/25/235252
Rem: App-Edited: 2024-06-25T23:54:56+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/6801883189117120764
Rem: Published: 2024-06-25T23:52:52+09:00
Category: lisp islisp gmnlisp
Updated: 2024-06-25T23:52:52+09:00
Title: 最近の Lisp 活動 (gmnlisp v0.6.0)
---
[SQL-Bless](https://github.com/hymkor/sqlbless) が一段落したので、また [gmnlisp](https://github.com/hymkor/gmnlisp) のコードさわってました。いい加減コミットも 100近くまでたまってきたので、一応リリースしました。

+ [Release v0.6.0 · hymkor/gmnlisp](https://github.com/hymkor/gmnlisp/releases/tag/v0.6.0)

結構すすみました。

+ 包括関数の実装がたぶん完了
    + オブジェクトシステムの機能というよりも、これ関数の多重定義ですよね
+ オブジェクトシステムの実装がたぶん完了
    + ILOS って、要は C++ でいうところの、構造体 + プロパティーシステムですよね
      ( メソッドっていうけど、多重定義できる以外、ただの関数… 
        getter/setter もメソッドも名前空間は独立していない )
+ 例外処理システムもだいたい実装
    + ただし、既存のエラーを Lisp オブジェクト化できていない
    + `<domain-error>` だけ、少しずつ Lisp オブジェクト化に着手しているが、先は長そう
+ `(property)` `(setf (property ...) ...)` などのプロパティーもできた
    + Go で組まず、内部組み込みの Lisp コードでさっくり

できてないこと

+ 既存エラーのLispオブジェクト化
+ データと関数の名前空間が同じ
    + `(function)`, `#'` ,`(funcall)` を使わず、関数名を直接書いても普通に動作する
    + 実害はないが、gmnlisp で動くコードが他の ISLisp で動かないということが発生する
+ その他たくさんの「その他の関数」

ISLisp の検証システムもちょっと動かしてみました。

```
$ gmnlisp.exe
gmnlisp v0.6.0-windows-amd64 by go1.22.3
gmnlisp> (load "tp.lsp")
tp-all
gmnlisp> (tp-all)
> TP File : data/formeval.lsp
unbound variable: eval
        at setq
        at tp-eval
        at setq
        at tp-$normal
        at case
        at while
        at let
        at for
        at with-open-input-file
        at with-standard-input
        at tp-main
        at while
        at let
        at for
        at let
        at tp-all
gmnlisp>
```

まだ先は長そうです。
