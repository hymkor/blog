```header
Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2024/10/25/202404
Rem: App-Edited: 2024-10-25T20:24:04+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/6802418398298890000
Rem: Published: 2024-10-25T20:24:04+09:00
Category: 雑談
Updated: 2024-10-25T20:24:04+09:00
Title: 不具合が不具合を相殺していた結果、一方の不具合修正でもう一方の不具合が表面化した簡単な事例
```
+ ライブラリの不具合: インスタンスの Close 処理ができていない
+ アプリの不具合：Close 済みのインスタンスを誤って使い回してしまう

ライブラリの不具合が修正される → `go get -u` だけでアプリが panic。

予防するにはテストコードを細かく作り込むか、地道に手動テストするしかないってことですかねぇ
（そういうことができてないから、俺のツールはイマイチなのだ）

（まぁ、インスタンスを使いまわすようなケチくさいことをすることがそもそも悪いという説もある）
