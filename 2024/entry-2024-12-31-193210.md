Rem: Alternate-Url: https://zetamatta.hatenablog.com/entry/2024/12/31/193210
Rem: App-Edited: 2024-12-31T19:32:10+09:00
Rem: Draft: no
Rem: Url-To-Edit: https://blog.hatena.ne.jp/zetamatta/zetamatta.hatenablog.com/atom/entry/6802418398311259812
Rem: Published: 2024-12-31T19:32:10+09:00
Category:
Updated: 2024-12-31T19:32:10+09:00
Title: 2024年にやったこと
---
+ [2023年にやったこと - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2024/01/01/101120)

今年(2024年分)もまとめよう！

### [NYAGOS](https://github.com/nyaosorg/nyagos)

Go 1.22 , 1.23 がリリースされ、Go 1.20 のサポートがついに打ち切られた。だが、ローカル動作しかしないツールゆえに、あまり最新の脆弱性問題とは縁がないし、Windows 7, 8, 2008 Server のサポートを続けたいため、リリースバイナリのビルドには Go 1.20 を引き続き使用している。

Go 1.20 自体は最新の Go 1.23 と共存可能で、 `make go1.20.14` を実行すれば `go1.20.14.exe` という名前で使用できるよう Makefile を書いている。無論、最新の Go でもビルドが可能になっている。また、nyaosorg 以下の、nyagos からリンクされうるパッケージはすべて Go 1.20.14 で使用できる形を維持している。

他、[4.4.16_0](https://github.com/nyaosorg/nyagos/releases/tag/4.4.16_0) では、少し色気をだして「PowerShell 7 風の入力予測機能の実装」なんてものを実装した。ややうるさく感じる時もあるものの、`jj bookmark move master --to @-` などという長ったらしいフレーズも、`jj b` と入力するだけで、補完候補として思い出させてくれるので、まぁ役には立ってるような気がする
（明示的に Ctrl-R を使えば等価だが）

### [script](https://github.com/hymkor/script) and [lispect](https://github.com/hymkor/lispect)

+ [Windows でコマンドの標準出力・標準エラー出力をぜんぶ記録する話 - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2024/11/10/190043)
+ [Go でも疑似端末が簡単に！(Windowsも含め) #Windows10 - Qiita](https://qiita.com/zetamatta/items/8a4a672fc81efe4ef560) 

[aymanbagabas/go-pty](https://github.com/aymanbagabas/go-pty) で疑似端末が便利に使えるようになったので、えいやっと script と expect の Windows 版をでっちあげた。予想以上に簡単にそれなりのものが出来上がったので、書いた俺もビックリ

しかし、Lispect は予想以上に相手にされなかった。やっぱり、この分野には [Expect-Lua](https://github.com/hymkor/expect) という実績あるツールが既にあるし、ISLisp なんてとっつきにくいからだろうなぁ（Expect-Lua も、もしリクエストがあれば、疑似端末対応にしなくてはいけないだろうねぇ）

### [go-multiline-ny](https://github.com/hymkor/go-multiline-ny)

+ [複数行対応 readlineライブラリ：go-multiline-ny をいろいろバージョンアップしました (v0.16.0～v0.16.3) - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2024/11/10/044934)

[apstndb/spanner-mycli](https://github.com/apstndb/spanner-mycli) で検討してもらったことがきっかけで

- macOS や Linux デスクトップで複数行のペーストが切れる問題を解決  
    （一報いただけなかったら、ずっと気付かぬままだった）
- 複数行インクリメンタルサーチ

など、そこそこパワーアップ。最終的には採用してもらい、また [私が spanner-cli をフォークした理由: spanner-mycli の紹介](https://zenn.dev/apstndb/articles/introduce-spanner-mycli) でもご紹介いただいた。

### [gmnlisp](https://github.com/hymkor/gmnlisp/)

なんとか、[ISLisp 検証プログラム](http://islisp.org/verification.html)が動くようになった。目下、NG項目を減らすべく、地味に修正を続けている。が、

> TP Result: OK = 10217, NG = 6194

さ、先は長い… ( 一時期、もう見るのも嫌になっていたが、Lispect での組み込みをきっかけに、また触る気になってきた )

### [SQL-Bless](https://github.com/hymkor/sqlbless)

+ SQLite3 もサポート
    +  一時期、windows-386版がCGO化していたが、Pure-GO SQLite driver の[glebarez/go-sqlite](https://github.com/glebarez/go-sqlite?tab=readme-ov-file) が windows-386 にも対応したことにより、すべてのOS・アーキテクチャ版が PureGo化できた。
+ スプレッド風のテーブルデータ編集する機能 (CSVIをパッケージ利用)
    + [【解説】ターミナル用データベースクライアント SQL-Bless で CSVI をページャとして使うようにしてみました - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2024/05/10/205714)

これ、構成を変えて、将来的に Microsoft Access みたいなツールを別に作ってもいいかもしれませんねぇ

### [CSVI](https://github.com/hymkor/csvi) (CSView)

+ [hymkor/csvi: Terminal CSV Editor](https://github.com/hymkor/csvi)
    + [【解説】 CSVI v1.8.1 【これで完成？】 - 標準愚痴出力](https://zetamatta.hatenablog.com/entry/2024/04/28/124831)

<!-- -->

+ 編集機能があることから CSView を CSVI へ改名
+ パッケージとして import できるようにした (SQL-Bless のエディターで利用)

今年、もっともSTAR をのばしたプロダクトかも。気がつけば 30 (3番目)

### [go-enex (unenex)](https://github.com/hymkor/go-enex)

Evernote のネイティブのエクスポートファイル(\*.enex)を HTML 化するツール。Evernote の HTML エクスポートが最近壊れているとのことで、需要が発生してきた。目下、不具合・要望を対応中だけど、かなり品質がよくなってきた（Evernote から直接エクスポートした HTML にレイアウトをかなり近い）

#### [君のレポジトリを領域展開 - 次世代バージョン管理システム Jujutsu の世界](https://zenn.dev/zetamatta/books/c1e309aea68960)

Git互換バージョン管理システム jujutsu (jj) の解説記事(Book)。jj についてググってみたところ、日本語の解説記事がどこにもなかったので「今だ！」とばかりに書いた。結果、いいね数は146と、自分の技術テキストとしては最高点を得たのでヨシ！

---

さて、来年 2025年はマジどうするかなぁ
（健康保険の任意継続も終わるし…いい加減、はたらく？）